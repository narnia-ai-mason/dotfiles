set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",*:RGB"
set -ag terminal-overrides ",*:Tc"
set -ga terminal-overrides ",*:Ss=\\E[%p1%d q:Se=\\E[2 q"
set -ga terminal-overrides ",*:sitm=\\E[3m:ritm=\\E[23m"
set -g mouse on
set -g focus-events on
set-option -g set-titles on
set-option -g set-titles-string "#T"
set-option -g renumber-windows on
set-window-option -g mode-keys vi

# Configure kaybindings
unbind C-b
set -g prefix C-s
bind C-s send-prefix
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
bind-key c new-window -c "#{pane_current_path}"
bind-key '"' split-window -c "#{pane_current_path}"
bind-key % split-window -h -c "#{pane_current_path}"

# Gruvbox color pallete
RED="#ea6962"
GREEN="#a9b665"
YELLOW="#d8a657"
BLUE="#7daea3"
MAGENTA="#d3869b"
CYAN="#89b482"
BLACK="#1d2021"
DARK_GRAY="#32302F"
LIGHT_GRAY="#4F4946"
BG="#32302F"
FG="#d4be98"

# Pane highlighting
set -g pane-border-style fg=${LIGHT_GRAY}
set -g pane-active-border-style fg=${GREEN}
set -g window-style bg=${BG}
set -g window-active-style bg=${BLACK}

# Special characters
HALF_ROUND_OPEN="#(printf '\uE0B6')"
HALF_ROUND_CLOSE="#(printf '\uE0B4')"
TRIANGLE_OPEN="#(printf '\uE0B2')"
TRIANGLE_CLOSE="#(printf '\uE0B0')"

# Configure status bar
set-option -g status-position top
set-option -g base-index 1
set-option -g pane-base-index 1
set -g status-style bg=${BG},fg=${FG}
set -g status-justify centre
set -g status-left-length 100
set -g status-left "\
#[bg=default,fg=${LIGHT_GRAY}]${HALF_ROUND_OPEN}\
#[bg=${LIGHT_GRAY},fg=#{YELLOW}]#S \
#[bg=default,fg=${LIGHT_GRAY}]${TRIANGLE_CLOSE}\
"

set -g window-status-format "\
#[bg=default,fg=${BG}]${HALF_ROUND_OPEN}\
#[bg=default,fg=default]#I \
#[bg=default,fg=default] #W\
#[bg=default,fg=${BG}]${HALF_ROUND_CLOSE}\
"
set -g window-status-current-format "\
#[bg=default,fg=${GREEN}]${HALF_ROUND_OPEN}\
#[bg=${GREEN},fg=#{BLACK}]#I \
#[bg=${LIGHT_GRAY},fg=${GREEN}] #W\
#[bg=default,fg=${LIGHT_GRAY}]${HALF_ROUND_CLOSE}\
"

set -g status-right-length 100
set -g status-right "\
#[bg=default,fg=${LIGHT_GRAY}]${TRIANGLE_OPEN}\
#[bg=${LIGHT_GRAY},fg=#{CYAN}] #h\
#[bg=default,fg=${LIGHT_GRAY}]${HALF_ROUND_CLOSE}\
"

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'christoomey/vim-tmux-navigator'
run '~/.tmux/plugins/tpm/tpm'
